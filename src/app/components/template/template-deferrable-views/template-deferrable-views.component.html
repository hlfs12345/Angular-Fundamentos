<!-- 
    on - especifica uma condição de acionador usando um acionador da lista.
    (idle, timer, viewport, interaction, hover, immediate, prefetc)

    when - especifica uma condição imperativa como uma expressão que retorna
    um booleano. Quando esta expressão se torna verdadeira, o espaço reservado
    é trocado pelo conteúdo carregado lentamente (o que pode ser uma operação
    assíncrona se as dependências precisarem ser buscadas).

    Nota: Vários on triggers são sempre condições 'OR'. 
    Da mesma forma, 'ON' misturado com 'WHEN' também são condições 'OR'.
-->

<!-- <h2 style="margin-bottom: 5000px;">Deferrable Views</h2> viewport example -->

<!-- ON -->
<!--<h2 >Deferrable Views</h2>

 @defer (on interaction; prefetch on idle) {
    <app-new-component/>
} @placeholder {
    <p>Mostra essa mensagem antes de carregar</p>
} @loading {
    <p>Loading...</p>
} @error {
    <p>Erro ao carregar componente</p>
} -->


<!-- WHEN -->
<!-- @defer (when loadingData$ | async) { -->
<!-- <h2 #trigger>Deferrable Views</h2>
<button (click)="isTrue = true">Add True</button>
@defer (when isTrue) {
    <app-new-component/>
} @placeholder {
    <p>Mostra essa mensagem antes de carregar</p>
} @loading {
    <p>Loading...</p>
} @error {
    <p>Erro ao carregar componente</p>
} -->

<!-- PLACEHOLDER -->
<!-- <h2 #trigger>Deferrable Views</h2>
@defer (on idle) {
    <app-new-component/>
} @placeholder(minimum 5s) {
    <p>Mostra essa mensagem antes de carregar</p>
} @loading {
    <p>Loading...</p>
} @error {
    <p>Erro ao carregar componente</p>
} -->

<!-- LOADING  -->
<!-- <h2 #trigger>Deferrable Views</h2>
@defer (on idle) {
    <app-new-component/>
} @placeholder {
    <p>Mostra essa mensagem antes de carregar</p>
} @loading(after 150ms; minimum 5s) {
    <p>Loading...</p>
} @error {
    <p>Erro ao carregar componente</p>
} -->

<!-- ERROR -->
<h2 #trigger>Deferrable Views</h2>
@defer (on idle) {
    <app-new-component/>
} @placeholder {
    <p>Mostra essa mensagem antes de carregar</p>
} @loading {
    <p>Loading...</p>
} @error {
    <p>Erro ao carregar componente</p>
}

<!-- Deferrable Views, também conhecidos como @defer blocks, são uma nova funcionalidade 
introduzida no Angular 17 que permite adiar o carregamento de determinadas partes de uma aplicação.

Isso pode ser usado para melhorar o desempenho das aplicações, especialmente aquelas com grandes quantidades de conteúdo.

Exemplos

Aqui estão alguns exemplos de como usar Deferrable Views para melhorar o desempenho das aplicações:

Carregamento de imagens: Você pode usar Deferrable Views para adiar o carregamento de imagens até que elas 
sejam visíveis na tela. Isso pode ajudar a melhorar o desempenho das aplicações móveis, onde a largura de banda é limitada.

Carregamento de dados: Você pode usar Deferrable Views para adiar o carregamento de dados até 
que eles sejam necessários. Isso pode ajudar a melhorar o desempenho das aplicações que precisam 
carregar grandes quantidades de dados.

Carregamento de componentes pesados: Você pode usar Deferrable Views para adiar o carregamento de 
componentes pesados até que eles sejam necessários. Isso pode ajudar a melhorar o desempenho das aplicações 
que usam componentes complexos ou personalizados.

Considerações

Ao usar Deferrable Views, é importante considerar os seguintes fatores:

Eficiência: Os Deferrable Views podem melhorar o desempenho das aplicações, mas eles também podem 
adicionar complexidade e aumentar o tempo de carregamento da primeira página.

Usuabilidade: Os Deferrable Views podem afetar a usabilidade das aplicações, pois o conteúdo pode 
não estar disponível imediatamente.

Os Deferrable Views são uma nova funcionalidade poderosa que pode ser usada para melhorar o 
desempenho das aplicações Angular. No entanto, é importante considerar os fatores acima antes de usá-los. -->
