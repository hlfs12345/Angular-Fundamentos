<h2>Reactive Forms</h2>
<form [formGroup]="profileForm" (ngSubmit)="submit()">
    <label>
        Nome:
        <input type="text" formControlName="name"/>
        <!-- <p> Value name: {{profileForm.value.name}}</p> -->
    </label>

    <hr>
    <h3>[formGroup]=profileForm</h3>
    <p>Value: {{ profileForm.value.name}}</p>
    <p>Value: {{ profileForm.value | json}}</p>
    <p>Valid: {{ profileForm.valid}}</p>
    <p>Dirty: {{ profileForm.dirty}}</p>
    <p>Touched: {{ profileForm.touched}}</p>    

    <hr>
    <h3>[formControlName]=name</h3>
    <p>Value: {{ profileForm.get("name")?.value}}</p>
    <p>Valid: {{ profileForm.get("name")?.valid}}</p>
    <p>Dirty: {{ profileForm.get("name")?.dirty}}</p>
    <p>Touched: {{ profileForm.get("name")?.touched}}</p>    
    <p>Errors: {{ profileForm.get("name")?.errors | json}}</p>   
    <hr>

    <div formGroupName="myStacks">
        <label>
            Front:
            <input type="text" formControlName="front">
            <p>Value: {{ profileForm.value.myStacks?.front }}</p>
        </label>
        <label>
            Back:
            <input type="text" formControlName="back">
            <p>Value: {{ profileForm.value.myStacks?.back }}</p>
        </label>
    </div>

    <button type="button" (click)="update()">Update </button>

    <hr>

    <label>
        New Food: 
        <input #newfood type="text" />
    </label>

    <button type="button" (click)="addMyFavoriteFoods(newfood.value)">Add</button>

    <div formArrayName="myFavoriteFoods">
        @for (food of profileForm.value.myFavoriteFoods; track i; let i = $index) {
            <label>                
                {{i+1}} - <input type="text" [formControlName]="i"> {{ food }} <br>
                
            </label>
        } 
    </div>

    <button [disabled]="!profileForm.valid">Submit</button>



    
</form>